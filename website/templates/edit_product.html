<!DOCTYPE html>
<html>

<head>
    <title>Edit Product</title>
</head>

<body>
    <h1>Edit Product</h1>
    <form method="POST" enctype="multipart/form-data" action="/edit_product/{{ product[0] }}">

        <h1>Product ID: = {{ product[0] }}</h1>

        <label for="image">Image:</label>
        <input type="file" id="inputFile" name="inputFile" onchange="preview_image(this); check_image_exists({{ product_image_array|safe }});"><br>
        <img id="preview"  width="200" height="150" src="{{ url_for('static', filename='images/' + product[10]) }}"/><br>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="{{ product[1] }}" oninput="check_fields_filled()"><br>

        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" value="{{ product[2] }}" oninput="check_fields_filled()"><br>

        <label for="productType">Product Type:</label>
        <select name="productType" id="productType">

            <option value="accessories">Accessories</option>
            <option value="data_storage">Data Storage</option>
            <option value="desktops">Desktops</option>
            <option value="laptops">Laptops</option>
            <option value="monitors">Monitors</option>
            <option value="phones">Phones</option>
            <option value="printers">Printers</option>
            <option value="tvs">TVs</option>

        </select><br>


        <script>
            document.addEventListener('DOMContentLoaded', function() {

                const selectElement = document.getElementById('productType');
                const selectedOption = "{{ product[3] }}";
                selectElement.value = selectedOption;
            });
          </script>

        <label for="price">Price:</label>
        <input type="float" id="price" name="price" value="{{ product[4] }}" oninput="check_fields_filled()"><br>

        <label for="deliveryTime">Delivery Time:</label>
        <input type="number" id="deliveryTime" name="deliveryTime" value="{{ product[5] }}" oninput="check_fields_filled()"><br>

        <label for="brand">Brand:</label>
        <input type="text" id="brand" name="brand" value="{{ product[6] }}" oninput="check_fields_filled()"><br>

        <label for="specifications">Specifications:</label>
        <textarea id="specifications" name="specifications">{{ product[7] }}</textarea><br>

        <label for="description">Description:</label>
        <textarea id="description" name="description">{{ product[8] }}</textarea><br>

        <input id="submit" type="submit" value="Save Product" >

        <button  id="deleteProductButton" type="button" onclick="deleteProduct({{ product[0] }})">Delete Product</button>
        <button  id="cancelButton" type="button" onclick="redirectElectronics()" >Cancel</button>
        
        
        <script>
            var productId = {{ product[0] }};
            var product_image = {{ product|safe }};
        </script>

    </form>
    <script src=../static/js/product-management.js></script>
</body>
</html>
